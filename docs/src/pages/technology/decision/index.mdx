---
title: Decision automation
description: Decision automation
---

<InlineNotification kind="warning">
<strong>Updated 10/21/2020</strong> - Work in progress
</InlineNotification>

## Introduction

Decision management](https://www.ibm.com/automation/business-rules)[] supports three main use cases:

* Let users model, author and validate decisions in a low-code environment.
* Externalize decision logic from microservice code so it can be developed, managed and tested by business users, but still integrated as a service in a cloud native microservice based.
* Integrate with AI model for combining predictive scoring and business rules 

## Getting started

### Installing on IBM Cloud Openshift cluster

This section is a quick summary of the steps to be done to deploy version 2020.2.

##### Pre-requisites

Access to Opendhift cluster and get `oc` CLI.

##### Get access to the container images

* Get your entitlement key at https://myibm.ibm.com/products-services/containerlibrary
* Create the image pull secret: 

```shell
 oc create secret docker-registry admin.registrykey --docker-username=cp --docker-password=<Generated-Key> --docker-server=cp.icr.io -n cp4auto
```

* Check that you can access CP4A images: 

 ```shell
 docker login cp.icr.io -u cp -p <Generated-Key>
 docker pull cp.icr.io/cp/cp4a/aae/dba-dbcompatibility-initcontainer:20.0.
 ```

##### Install common services

* Get scripts and config files archive: 
 ```shell
 wget https://github.com/icp4a/cert-kubernetes/archive/20.0.2.tar.gz
 ```
* Expand archive: `tar xvf 20.0.2.tar.gz`
* Change to folder cert-kubernetes-20.0.2
* If not already present on the cluster create the common-service OpenShift project

 ```shell
 # verify project does not exist
 oc new-project common-service
 ```
* In common-service project, run the scripts/deploy_CS3.4.sh script

##### Prepare the operator storage

* Create cp4a project
* Edit descriptors/operator-shared-pvc.yaml and use ibmc-file-retain-gold-gid
* Create the PVC: 

 ```shell
 oc create -f descriptors/operator-shared-pvc.yaml
 ```

* Copy the drivers: 

```
oc cp scripts/jdbc cp4a/<operator-podname>:/opt/ansible/share -c ansible
```

##### Install the operator

*Deploy operator: 
`./scripts/deployOperator.sh -i cp.icr.io/cp/cp4a/icp4a-operator:20.0.2 -p admin.registrykey -n cp4a -a accept`

##### Deploy ODM

* Apply the CR:   (note: this CR also includes a simple install of BAI)
* Update the network policies for ODM: 

```
oc get netpol
```

* Edit the odm-dc-networkpolicy, odm-dr-network-policy, odm-ds-console-network-policy, odm-ds-runtime-network-policy to add a blanket egress policy, for example:

```yaml
  spec:
  egress:
  - {}
  ingress:
  - ports:
    - port: <PORT>
      protocol: TCP
  podSelector:
    matchLabels:
      run: ppe-odm-decisioncenter
  policyTypes:
  - Egress
  - Ingress
```


